{% extends "gamer_profiles/profile_detail.html" %}
{% block detailactive %}{% endblock %}
{% block collectactive %}{% include "is_active_definition.html" %}{% endblock %}
{% load i18n static %}
{% block content %}
<div class="grid-x grid-margin-x">
    <div class="cell medium-auto">
      <div class="card">
        <div class="card-divider"><h5>{% trans "Collection" %}</h5></div>
        <div class="card-section">
          {% if not book_list %}
          <p>{{ gamer }} {% trans "doesn't have any game books in their collection." %}</p>
          {% endif %}
          <div class="grid-x grid-margin-x small-up-2 medium-up-4">
            {% for book in book_list %}
            <div class="cell medium-auto">
            <div class="card">
              <div class="card-section">
                <div class="grid-x grid-margin-x">
                  <div class="cell auto">
                    <a href="{{ book.content_object.get_absolute_url }}"><img class="thumbnail smallthumb" src="{% if book.cover %}{{ book.cover.url }}{% else %}{% static 'images/placeholder_thumb.png' %}{% endif%}" alt="Cover of {{ book.title }}" /></a>
                  </div>
                  <div class="cell auto">

                <dl>
                  <dt>{% trans "Title" %}</dt>
                  <dd><a href="{{ book.content_object.get_absolute_url }}">{{ book.title }}</a></dd>
                  <dt>{% trans "Has Print" %}</dt>
                  <dd><span class="label {% if book.in_print %}success{% else %}secondary{% endif %}">{{ book.in_print|yesno:"Yes,No" }}</span></dd>
                  <dt>{% trans "Has PDF" %}</dt>
                  <dd><span class="label {% if book.in_pdf %}success{% else %}secondary{% endif %}"><strong>{{ book.in_pdf|yesno:"Yes,No" }}</strong></span></dd>
                </dl>
                  </div>
                </div>
              </div>
              {% if request.user == gamer.user %}
              <div class="card-section">
                <a href="{% url 'rpgcollections:book-detail' book=book.slug %}" class="button float-left">{% trans "View/edit copy details" %}</a> <a href="{% url 'rpgcollections:remove-book' book=book.slug %}" class="float-right button alert">{% trans "Remove from collection" %}</a>
              </div>
                {% endif %}
              </div>
            </div>
          {% empty %}
            {% endfor %}
          </div>
        </div>
        <div class="card-section">
          <div class="grid-x grid-margin-x">
            <div class="cell auto">
          {% if is_paginated %}
          <nav aria-label="Pagination">
            <ul class="pagination">
              {% if not page_obj.has_previous %}
              <li class="pagination-previous disabled">{% trans "Previous" %} <span class="show-for-sr">{% trans "page" %}</span></li>
              {% else %}
              <li class="pagination-previous"><a href="{% url 'gamer_profiles:book-list' gamer=gamer.username page=page_obj.previous_page_number %}" aria-label="Previous page">{% trans "Previous" %} <span class="show-for-sr">{% trans "page" %}</span> </a></li>
              {% endif %}
              {% for page_num in paginator.page_range %}
              {% if page_obj.number == page_num %}
              <li class="current"><span class="show-for-sr">{% trans "You are on page" %} </span>{{ page_num }}</li>
              {% else %}
              <li><a href="{% url 'gamer_profiles:book-list' gamer=gamer.username page=page_num %}" aria-label="Page {{ page_num }}">{{ page_num }}</a></li>
              {% endif %}
              {% endfor %}
              {% if not page_obj.has_next %}
              <li class="pagination-next disabled">{% trans "Next" %} <span class="show-for-sr"{% trans "page" %}</span></li>
              {% else %}
              <li class="pagination-next"><a href="{% url 'gamer_profiles:book-list' gamer=gamer.username page=page_obj.next_page_number %}" aria-label="Next page">{% trans "Next" %} <span class="show-for-sr">{% trans "page" %}</span></a></li>
              {% endif %}
            </ul>
          </nav>
          {% endif %}
        </div>
      </div>
    </div>
      </div>
    </div>
</div>
{% endblock %}
